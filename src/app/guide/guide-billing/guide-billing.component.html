<div
  fxLayout="row"
  fxLayoutAlign="space-around center"
  style="margin-top: 30px"
>
  <div
    fxFlex="90"
    fxLayout="row"
    fxLayoutAlign="space-around center"
    fxLayoutGap="40px"
  >
    <div fxFlex class="billing-item" fxLayout="row" fxLayoutGap="30px">
      <span fxFlex fxLayout="column">
        <span
          style="
            border-left: 6px solid #2699fb;
            line-height: 20px;
            font-size: 14px;
            color: #2699fb;
            font-weight: 500;
            padding: 10px;
          "
          >Current balance</span
        >
        <span
          style="
            line-height: 20px;
            font-size: 18px;
            color: #625d5d;
            font-weight: 500;
            padding: 10px;
          "
          >$ 1000,00
        </span></span
      >
      <span fxFlex fxLayout="column">
        <span
          style="
            border-left: 6px solid #2699fb;
            line-height: 20px;
            color: #2699fb;
            font-size: 14px;
            font-weight: 500;
            padding: 10px;
          "
          >Totale Earnings</span
        >
        <span
          style="
            line-height: 20px;
            font-size: 18px;
            color: #625d5d;
            font-weight: 500;
            padding: 10px;
          "
        >
          $ 1000,00</span
        ></span
      >
    </div>
    <div fxFlex class="billing-item" fxLayout="row" fxLayoutGap="30px">
      <span fxFlex fxLayout="column">
        <span
          style="
            border-left: 6px solid #2699fb;
            line-height: 20px;
            font-size: 14px;
            color: #2699fb;
            font-weight: 500;
            padding: 10px;
          "
          >Last Payment</span
        >
        <span
          style="
            line-height: 20px;
            font-size: 18px;
            font-weight: 500;
            color: #625d5d;
            padding: 10px;
          "
          >20-May-2021</span
        ></span
      >
      <span fxFlex fxLayout="column">
        <span
          style="
            border-left: 6px solid #2699fb;
            line-height: 20px;
            color: #2699fb;
            font-size: 14px;
            font-weight: 500;
            padding: 10px;
          "
          >Next Payment</span
        >
        <span
          style="
            line-height: 20px;
            font-size: 18px;
            color: #625d5d;
            font-weight: 500;
            padding: 10px;
          "
          >20-May-2021</span
        ></span
      >
    </div>
  </div>
</div>
<br />
<br />
<div fxLayout="row" fxLayoutAlign="space-around center">
  <div
    fxFlex="90"
    fxLayout="row"
    fxLayoutAlign="space-around center"
    fxLayoutGap="40px"
  >
    <mat-accordion class="example-headers-align" fxFlexFill>
      <mat-expansion-panel
        [expanded]="step === 0"
        (opened)="setStep(0)"
        hideToggle
        [class.selected]="step === 0"
        style="
          background-color: #f7f5ed80;
          box-shadow: 0px 0px 0px black;
          border: 1px solid #7070704d;
          margin: 5px 0px;
        "
      >
        <mat-expansion-panel-header>
          <mat-panel-description>
            <span
              fxLayout="row"
              fxLayoutAlign="start center"
              style="text-align: left; display: flex; vertical-align: middle"
            >
              <mat-panel-title style="min-width: 200px"
                >Prefered Method
              </mat-panel-title>

              <span>
                <mat-icon style="font-size: 24px">credit_card</mat-icon></span
              >

              <span style="padding-left: 10px"> Mastercard ending in 0000</span>
            </span>
            <span style="flex: 1 1 auto"></span>
            <mat-icon *ngIf="step != 0">chevron_right</mat-icon>
            <mat-icon *ngIf="step == 0">expand_more</mat-icon>
          </mat-panel-description>
        </mat-expansion-panel-header>

        <!-- list of prefered methods with edit delete and valide icon -->
        <div fxLayout="column" fxLayoutAlign="space-around left" fxFlexFill>
          <mat-list role="list" style="padding-left: 200px">
            <mat-list-item role="listitem">
              <mat-icon>credit_card</mat-icon
              ><span style="flex: 1 1 auto; padding: 5px"
                >Mastercard ending in 0000</span
              >
              <span style="flex: 1 1 auto"></span
              ><button mat-icon-button>
                <mat-icon style="color: rgb(230, 230, 230)"
                  >check_circle</mat-icon
                >
              </button>
              <button mat-icon-button>
                <mat-icon>edit</mat-icon></button
              ><button mat-icon-button>
                <mat-icon color="warn">cancel</mat-icon>
              </button>
            </mat-list-item>
            <mat-list-item role="listitem">
              <mat-icon>credit_card</mat-icon
              ><span style="flex: 1 1 auto; padding: 5px">
                Visa ending in 0000</span
              >
              <span style="flex: 1 1 auto; min-width: 30px"></span
              ><button mat-icon-button>
                <mat-icon style="color: rgb(230, 230, 230)"
                  >check_circle</mat-icon
                >
              </button>
              <button mat-icon-button>
                <mat-icon>edit</mat-icon></button
              ><button mat-icon-button>
                <mat-icon color="warn">cancel</mat-icon>
              </button>
            </mat-list-item>
            <mat-list-item role="listitem">
              <mat-icon>credit_card</mat-icon
              ><span style="flex: 1 1 auto; padding: 5px">
                Paypal - email@email.com</span
              >
              <span style="flex: 1 1 auto; min-width: 30px"></span
              ><button mat-icon-button>
                <mat-icon style="color: green">check_circle</mat-icon>
              </button>
              <button mat-icon-button>
                <mat-icon>edit</mat-icon></button
              ><button mat-icon-button>
                <mat-icon color="warn">cancel</mat-icon>
              </button>
            </mat-list-item>
          </mat-list>
        </div>
        <mat-action-row>
          <div fxLayout="row" fxLayoutAlign="end end">
            <button
              fxFlex
              mat-raised-button
              color="primary"
              style="
                max-height: 50px;
                margin: 3px;
                background-color: #2699fb;
                border-radius: 20px;
              "
            >
              <mat-icon>add</mat-icon><span>Add </span>
            </button>
          </div>
        </mat-action-row>
      </mat-expansion-panel>

      <mat-expansion-panel
        [expanded]="step === 1"
        (opened)="setStep(1)"
        hideToggle
        style="
          background-color: #f7f5ed80;
          box-shadow: 0px 0px 0px black;
          border: 1px solid #7070704d;
          margin: 5px 0px;
        "
        [class.selected]="step === 1"
      >
        <mat-expansion-panel-header>
          <mat-panel-description>
            <mat-panel-title style="max-width: 200px">
              Current Schedule
            </mat-panel-title>
            <span
              fxLayout="row"
              fxLayoutAlign="start center"
              fxLayoutGap="20px"
              style="text-align: left; display: flex; vertical-align: middle"
            >
              <span> Payment made every 2 weeks to the preferred method</span>
            </span>
            <span style="flex: 1 1 auto"></span>
            <mat-icon *ngIf="step != 1">chevron_right</mat-icon>
            <mat-icon *ngIf="step == 1">expand_more</mat-icon>
          </mat-panel-description>
        </mat-expansion-panel-header>

        <div
          fxLayout="row"
          fxLayoutGap="40px"
          style="padding: 20px"
          fxLayoutAlign="center start"
        >
          <div fxFlex="20" style="text-align: left">
            <section class="example-section">
              <h2>Frequency</h2>
              <div>
                <p>
                  <mat-checkbox [checked]="checked === 0" (change)="checkIt(0)"
                    >Weekly</mat-checkbox
                  >
                </p>
                <p>
                  <mat-checkbox (change)="checkIt(1)" [checked]="checked === 1"
                    >Bi-Weekly</mat-checkbox
                  >
                </p>
                <p>
                  <mat-checkbox (change)="checkIt(2)" [checked]="checked === 2"
                    >Monthly</mat-checkbox
                  >
                </p>
                <p>
                  <mat-checkbox (change)="checkIt(3)" [checked]="checked === 3"
                    >Bi-Monthly</mat-checkbox
                  >
                </p>
              </div>
            </section>
          </div>
          <div fxFlex="40" style="text-align: center">
            <h2>Start date</h2>
            <mat-card class="demo-inline-calendar-card">
              <mat-calendar (selectedChange)="selected = $event"></mat-calendar>
            </mat-card>
            <span style="padding: 15px">You have selected {{ selected }}</span>
          </div>
        </div>

        <mat-action-row>
          <!-- <button mat-button color="warn" (click)="prevStep()">
              Previous
            </button> -->
          <button
            mat-raised-button
            color="primary"
            style="
              max-height: 50px;
              margin: 3px;
              background-color: #2699fb;
              border-radius: 20px;
            "
            (click)="openSnackBar('Success', '')"
          >
            save
          </button>
        </mat-action-row>
      </mat-expansion-panel>

      <mat-expansion-panel
        [expanded]="step === 2"
        (opened)="setStep(2)"
        hideToggle
        [class.selected]="step === 2"
        style="
          background-color: #f7f5ed80;
          box-shadow: 0px 0px 0px black;
          border: 1px solid #7070704d;
          margin: 5px 0px;
        "
      >
        <mat-expansion-panel-header>
          <mat-panel-description>
            <mat-panel-title style="max-width: 200px">
              Payment History
            </mat-panel-title>
            <span
              fxLayout="row"
              fxLayoutAlign="start center"
              fxLayoutGap="20px"
              style="text-align: left; display: flex; vertical-align: middle"
            >
              <span> 55 payments made successfully</span>
            </span>
            <span style="flex: 1 1 auto"></span>
            <mat-icon *ngIf="step != 2">chevron_right</mat-icon>
            <mat-icon *ngIf="step == 2">expand_more</mat-icon>
          </mat-panel-description>
        </mat-expansion-panel-header>

        <div style="margin-top: 30px">
          <!-- <app-payment-history></app-payment-history> -->
          <app-payment-history-table></app-payment-history-table>
        </div>
        <mat-action-row>
          <div fxLayout="row" fxLayoutAlign="end end">
            <button
              fxflex
              color="primary"
              mat-raised-button
              style="
                max-height: 50px;
                margin: 3px;
                background-color: #2699fb;
                border-radius: 20px;
              "
              (click)="openDownload()"
            >
              <mat-icon>download</mat-icon>Download
            </button>
          </div>
          <!-- <button mat-raised-button color="primary" >
              save
            </button> -->
          <!-- <button mat-button color="primary" (click)="nextStep()">End</button> -->
        </mat-action-row>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>
<ng-template #ConfirmSwitch let-data>
  <app-confirm-switch></app-confirm-switch>
</ng-template>

<ng-template #Download let-data>
  <app-download-modal></app-download-modal>
</ng-template>

<ng-template #ConfirmDelete let-data>
  <app-confirm-modal></app-confirm-modal>
</ng-template>
